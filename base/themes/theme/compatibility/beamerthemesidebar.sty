% Copyright 2007 by Till Tantau
% Copyright 2015 by Vedran Mileti\'c, Joseph Wright
%
% This file may be distributed and/or modified
%
% 1. under the LaTeX Project Public License and/or
% 2. under the GNU Public License.
%
% See the file LICENSE.md for more details.

\newif\ifbeamer@sidebartab
\newif\ifbeamer@sidebardark

\beamer@sidebartabfalse
\beamer@sidebardarkfalse

\PassOptionsToPackage{width=2.5cm}{beamerouterthemesidebar}
\PassOptionsToPackage{right}{beamerouterthemesidebar}
\PassOptionsToPackage{height=0pt}{beamerouterthemesidebar}

\DeclareOptionBeamer{hideothersubsections}{\PassOptionsToPackage{hideothersubsections=#1}{beamerouterthemesidebar}}
\DeclareOptionBeamer{hideallsubsections}{\PassOptionsToPackage{hideallsubsections=#1}{beamerouterthemesidebar}}
\DeclareOptionBeamer{width}{\PassOptionsToPackage{width=#1}{beamerouterthemesidebar}}
\DeclareOptionBeamer{height}{\PassOptionsToPackage{height=#1}{beamerouterthemesidebar}}
\DeclareOptionBeamer{left}{\PassOptionsToPackage{left}{beamerouterthemesidebar}}
\DeclareOptionBeamer{right}{\PassOptionsToPackage{right}{beamerouterthemesidebar}}
\DeclareOptionBeamer{tab}[true]{\csname beamer@sidebartab#1\endcsname}
\DeclareOptionBeamer{dark}[true]{\csname beamer@sidebardark#1\endcsname}
\DeclareOptionBeamer{onlysmall}{\PassOptionsToPackage{onlysmall}{beamerfontthemestructurebold}}
\DeclareOptionBeamer{onlylarge}{\PassOptionsToPackage{onlysmall}{beamerfontthemestructurebold}}

\ProcessOptionsBeamer

\mode<presentation>

\useoutertheme{sidebar}

\ifbeamer@sidebardark
  \usefonttheme{structurebold}
  \usecolortheme{whale}

  \setbeamercolor{sidebar}{parent=palette primary}

  \usebeamercolor{palette quaternary}
  \usebeamercolor{palette primary}
  \setbeamertemplate{sidebar canvas right}[vertical shading][top=palette quaternary.bg,bottom=palette primary.bg]
\else
  \usecolortheme{seahorse}

  \usebeamercolor{sidebar}
  \setbeamertemplate{sidebar canvas right}[vertical shading][top=sidebar.bg,bottom=white]
\fi

\ifbeamer@sidebartab
  \usecolortheme{sidebartab}
\fi

\mode
<all>

